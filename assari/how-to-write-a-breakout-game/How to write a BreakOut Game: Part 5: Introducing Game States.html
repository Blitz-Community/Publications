<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0123)http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><script src="./How to write a BreakOut Game: Part 5: Introducing Game States_files/analytics.js" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app202.us.archive.org';v.server_ms=228;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="./How to write a BreakOut Game: Part 5: Introducing Game States_files/bundle-playback.js" charset="utf-8"></script>
<script type="text/javascript" src="./How to write a BreakOut Game: Part 5: Introducing Game States_files/wombat.js" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("http://web.archive.org/web");
  __wm.wombat("http://www.2dgamecreators.com:80/tutorials/gameprogramming/breakout/B1_BreakOut.html","20070819102402","http://web.archive.org/","web","/_static/",
	      "1187519042");
</script>
<link rel="stylesheet" type="text/css" href="./How to write a BreakOut Game: Part 5: Introducing Game States_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./How to write a BreakOut Game: Part 5: Introducing Game States_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->


























































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
























































  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>Part 5: Introducing Game States</title>
  <meta content="Assari" name="author">
</head>


<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr;">
</div><div id="wm-ipp-print">The Wayback Machine - http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com:80/tutorials/gameprogramming/breakout/B1_BreakOut.html</div>
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="./How to write a BreakOut Game: Part 5: Introducing Game States_files/donate.html" scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html","20070819102402",1996,"/_static/",["/_static/css/banner-styles.css?v=omkqRugM","/_static/css/iconochive.css?v=qtvMKcIJ"], "False");
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->















































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;">How to write a BreakOut Game: Part 5: Introducing Game States<br>

























































</span>(c) Assari 2006<br>















































<br>



















<a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/T1_Images.html"></a></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Table of Contents<br>

























































</span></span>
<ol style="font-family: Tahoma;" id="mozToc">

<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><li><a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html#mozTocId578655">Introduction to Game States</a></li>

  <li><a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html#mozTocId126146">The PLAY Game State</a></li>

  <li><a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html#mozTocId578655">Adding the PAUSE GameState</a></li>

  <li><a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B1_BreakOut.html#mozTocId938547">Summary</a></li>

</ol>










































<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">Introduction to Game States</span></small></small></h1>










































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"></span>If
we were to reflect back on what we have done over the last few
tutorials, we have programmed in the objects and behaviours required
during the actual playing state, the PLAY Game State. When our bricks
have all been destroyed, we should then move into a GAMEOVER Game State.<br>



<br>



So Game States, as the name implies, represent the state of our game
and our objects can behave differently during different Game States.<br>



<br>



For the BreakOut game for example, we can have the following Game States<br>



</span></span>
<ul>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">STARTUP</span></span></li>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">WAIT TO START</span></span></li>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">PLAY</span></span></li>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">PAUSE</span></span></li>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">GAMEOVER</span></span></li>



  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">EXIT</span></span></li>



</ul>



<h1><a class="mozTocH1" name="mozTocId126146"></a><small><small><span style="font-family: Tahoma;">The PLAY Game State</span></small></small></h1>










































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"></span>Since,
without realising it, we have always been in the PLAY GameState, lets
take a look at how we would implement that in our revised Game Frame Work
which can now handle the different Game States.<br>



<br>



Firstly our Main Loop will change slightly to include the GameState
handling via the UpdateGameState() function call plus the Loop is now
an infinite loop as the Ending of the program is handled in the
UpdateGameState() function:-</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>



</span></span>
<table style="text-align: left; width: 732px; height: 44px;" border="0" cellpadding="2" cellspacing="2">



  <tbody>



    <tr>



      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">' ---------------------MAIN LOOP-------------------------</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp; Repeat</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp; Cls</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 255);">UpdateGameState()</span></span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; For Local o:TGameObject=EachIn GameObjectList</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; o.DrawSelf()</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;o.UpdateSelf()</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Next</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp; Flip </span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(255, 255, 102);">&nbsp; Forever</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">End</span><br>



      </span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>






<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span><span style="font-weight: bold;"><br>





</span><span style="font-family: Arial;">Our UpdateGameState function initially will look like this, ie just handling one GameState which is the PLAY GameState:-</span><span style="font-family: Arial;">&nbsp;</span><br>





<table style="text-align: left; width: 732px; height: 44px;" border="0" cellpadding="2" cellspacing="2">
















































  <tbody>
















































    <tr>
















































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">Function <span style="color: rgb(255, 255, 255);">UpdateGameState()</span><br>



      <br>



&nbsp;&nbsp;&nbsp; Select <span style="color: rgb(255, 255, 255);">GameState</span><br>



&nbsp;&nbsp;&nbsp; <br>



&nbsp;&nbsp;&nbsp; Case <span style="color: rgb(255, 255, 255);">PLAY</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ESCAPE)</span> Or AppTerminate()<br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; End<br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf<br>



      <br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndSelect<br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>



EndFunction<br>



      </span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>






<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>



We also need to define one new variable, the GameState integer variable
and also a constant called PLAY. We do this at the top of our program
as follows:-<br>



</span></span>
<table style="text-align: left; width: 732px; height: 44px;" border="0" cellpadding="2" cellspacing="2">



  <tbody>



    <tr>



      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">' -----------------SETUP GAME CONDITIONS--------------------</span><br style="color: rgb(153, 153, 153);">



      <span style="color: rgb(153, 153, 153);">Const PLAYER_LAYER:Int=1</span><br>



Const <span style="color: rgb(255, 255, 255);">PLAY</span>:Int<span style="color: rgb(255, 255, 255);">=1</span><br>



Global <span style="color: rgb(255, 255, 255);">GameState</span>:Int=<span style="color: rgb(255, 255, 255);">PLAY</span><br>



      <br>



      </span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>



<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>



Download the full source <a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/Breakout%20v014g.bmx">here</a>. Our program should behave exactly like before.</span></span><br>










































<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">Adding the PAUSE GameState</span></small></small></h1>










































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"></span>A
useful GameState to have is the PAUSE GameState where users can pause
the game and go away and do something else like go to the bathroom.<br>



<br>

Previously, whenever the ESC key was pressed or the Close Button was
clicked, the program would abruptly end. We can&nbsp;be more polite and
ask users to confirm when they press
ESCAPE&nbsp;rather than just end the program
abruptly as we've been doing so far.<br>

<br>

In order to do this, we need to display some text (instructions) onto the screen.
&nbsp;The framework that we have demands that everything that needs to
be displayed on the screen must be descended from TGameObject. So to
display text we need a TText object declared like so:-<br>

<br>

</span></span>
<table style="text-align: left; width: 816px; height: 392px;" border="0" cellpadding="2" cellspacing="2">
















































  <tbody>
















































    <tr>
















































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 720px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">Type <span style="color: rgb(255, 255, 255);">TText</span> Extends <span style="color: rgb(255, 255, 255);">TGameObject</span><br>



&nbsp;&nbsp;&nbsp; <br>



&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Text</span>:String<br>



&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Font</span>:TImageFont<br>



      <br>



&nbsp;&nbsp;&nbsp; Function <span style="color: rgb(255, 255, 255);">Create:TText(Text:<span style="color: rgb(255, 255, 102);">String</span>, Font:<span style="color: rgb(255, 255, 102);">TImageFont</span>,xstart<span style="color: rgb(255, 255, 102);">:Int</span>,ystart:<span style="color: rgb(255, 255, 102);">Int</span>)</span><br>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Local <span style="color: rgb(255, 255, 255);">B:TText=</span>New <span style="color: rgb(255, 255, 255);">TText</span><br>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 255, 255);"> B.Text=Text</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; B.Font=Font</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; B.X=XStart</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; B.Y=YStart</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ListAddLast <span style="color: rgb(255, 255, 255);">GameObjectList, B</span><br>



&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Return <span style="color: rgb(255, 255, 255);">B</span><br>



&nbsp;&nbsp;&nbsp; End Function<br>



      <br>



&nbsp;&nbsp;&nbsp; Method <span style="color: rgb(255, 255, 255);">UpdateSelf()</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="color: rgb(102, 204, 204);">'DO NOTHING</span><br>



&nbsp;&nbsp;&nbsp; End Method<br>



      <br>



&nbsp;&nbsp;&nbsp; Method <span style="color: rgb(255, 255, 255);">drawself()</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SetImageFont<span style="color: rgb(255, 255, 255);">(Font)</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SetRotation <span style="color: rgb(255, 255, 255);">0</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; SetScale <span style="color: rgb(255, 255, 255);">1.0,1.0</span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DrawText <span style="color: rgb(255, 255, 255);">Text,X,Y</span><br>



&nbsp;&nbsp;&nbsp; End Method<br>



      <br>



EndType<br>



      </span><span style="font-family: Tahoma;"></span><span style="font-family: Tahoma;"></span></span></td>
















































      <td style="width: 32px; color: rgb(255, 255, 102);" align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>

<br>

<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">

<br>



Our new UpdateGameState function would look like this:- </span></span>
<table style="text-align: left; width: 816px; height: 392px;" border="0" cellpadding="2" cellspacing="2">
















































  <tbody>
















































    <tr>
















































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 720px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">Function UpdateGameState()<br>



      <br>



&nbsp;&nbsp;&nbsp; Select GameState<br>



&nbsp;&nbsp;&nbsp; <br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Case PLAY<br>

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ESCAPE)</span> Or AppTerminate()</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 255);">TText.Create(<span style="color: rgb(51, 255, 51);">"PRESS &lt;ENTER&gt; To
RE-START"</span>,Font,80,250)</span></span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; TText.Create(<span style="color: rgb(51, 255, 51);">"PRESS ESCAPE TO EXIT"</span>,Font,80,300)</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FlushKeys()</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<span style="color: rgb(255, 255, 255);"> GameState=PAUSE</span></span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf<br>



      <br>



&nbsp;<span style="color: rgb(255, 255, 102);">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Case <span style="color: rgb(255, 255, 255);">PAUSE</span></span><br style="color: rgb(255, 255, 102);">



      <br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ESCAPE)</span> Or AppTerminate()</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; End</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; </span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ENTER)</span></span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <span style="color: rgb(255, 255, 255);">GameState=PLAY<br>

      <span style="color: rgb(102, 204, 204);">'-------------Remove all of the Text Objects</span><br style="color: rgb(255, 255, 102);">

      </span></span><span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; For Local <span style="color: rgb(255, 255, 255);">o:TText=</span>EachIn <span style="color: rgb(255, 255, 255);">GameObjectList</span></span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ListRemove<span style="color: rgb(255, 255, 255);">(GameObjectList,o)</span></span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Next</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf</span><br style="color: rgb(255, 255, 102);">

      <span style="color: rgb(255, 255, 102);">

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; FlushKeys()&nbsp;&nbsp;&nbsp; </span><br>



&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>



EndFunction<br>



      </span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><br>



      </span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td style="width: 32px;" align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>



<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>



</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">We also need to load the font to use<br>



</span></span>
<table style="text-align: left; width: 797px; height: 52px;" border="0" cellpadding="2" cellspacing="2">



  <tbody>



    <tr>



      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 720px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);"><span style="color: rgb(255, 255, 255);">Local FontURL:<span style="color: rgb(255, 255, 102);">String</span>=<span style="color: rgb(51, 255, 51);">"http::www.2dgamecreators.com/tutorials/gameprogramming/breakout/"</span></span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">Global Font:<span style="color: rgb(255, 255, 102);">TImageFont</span>=LoadImageFont(FontURL+<span style="color: rgb(51, 255, 51);">"BorisBlackBloxx.ttf"</span>,24)</span><br>



      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td style="width: 13px;" align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>



<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>

and declare the new constant PAUSE, </span></span>
<table style="text-align: left; width: 797px; height: 52px;" border="0" cellpadding="2" cellspacing="2">



  <tbody>



    <tr>



      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 720px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">Const PLAY:Int=1<br>

      <span style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 102);">Const</span> PAUSE:<span style="color: rgb(255, 255, 102);">Int</span>=2</span><br>



      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td style="width: 13px;" align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>



<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>

and modify the UpdateSelf methods of TBall and TPaddle to not do anything if not in PLAY mode as follows:-<br>

</span></span>
<table style="text-align: left; width: 797px; height: 52px;" border="0" cellpadding="2" cellspacing="2">



  <tbody>



    <tr>



      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
















































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 720px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; Method UpdateSelf()<br>

      <br>

      <span style="color: rgb(255, 255, 102);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">GameState&lt;&gt;PLAY</span> Then Return</span><br>

      <span style="color: rgb(255, 255, 255);"></span><br>



      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>
















































      <td style="width: 13px;" align="undefined" valign="undefined"></td>
















































    </tr>
















































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>

<br>

<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Download the complete source <a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/Breakout%20v014h.bmx">here</a>, compile and build the program. Press the ESC key or click on the close icon and you should see something like this:-<br>

<br>

</span></span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






















  <tbody>






















    <tr>






















      <td style="width: 33px;" align="undefined" valign="undefined"></td>






















      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./How to write a BreakOut Game: Part 5: Introducing Game States_files/T1_008.png"><br>





















      </td>






















      <td><br>





















      </td>






















    </tr>






















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>

<br>





<h1><a class="mozTocH1" name="mozTocId938547"></a><small><small><small><span style="font-family: Tahoma;">Summary</span></small></small></small></h1>
































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span><span style="font-family: Arial;">We
have now enhanced our framework a little bit to allow us to use the
concept of GameStates. But as you can see the overall flow of the
program has not changed by very much.<br>

<br>

With this new ability, we can then further enhance our framework (and
games built with it) to include some more GameStates that we are
familiar with such as STARTUP, GAMEOVER etc.<br>

<br>



The next section of this tutorial series will introduce the concept of Game States. &nbsp;So press on (<a href="http://web.archive.org/web/20070819102402/http://www.2dgamecreators.com/tutorials/gameprogramming/breakout/B2_BreakOut.html">Click here</a>)<br>





</span>










<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span>









<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">
</span></span><span style="font-family: Tahoma;"></span>


<!--
     FILE ARCHIVED ON 10:24:02 Aug 19, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 05:40:50 Oct 04, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 90.38
  exclusion.robots: 0.213
  exclusion.robots.policy: 0.205
  RedisCDXSource: 3.429
  esindex: 0.008
  LoadShardBlock: 65.194 (3)
  PetaboxLoader3.datanode: 76.303 (4)
  CDXLines.iter: 18.685 (3)
  load_resource: 121.322
  PetaboxLoader3.resolve: 95.414
--></body></html>