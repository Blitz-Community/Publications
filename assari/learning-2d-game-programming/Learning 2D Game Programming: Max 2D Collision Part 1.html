<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0128)http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><script src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/analytics.js" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app28.us.archive.org';v.server_ms=963;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/bundle-playback.js" charset="utf-8"></script>
<script type="text/javascript" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/wombat.js" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("http://web.archive.org/web");
  __wm.wombat("http://www.2dgamecreators.com:80/tutorials/gameprogramming/collision/T1%20Collision2.html","20061014081157","http://web.archive.org/","web","/_static/",
	      "1160813517");
</script>
<link rel="stylesheet" type="text/css" href="./Learning 2D Game Programming: Max 2D Collision Part 1_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./Learning 2D Game Programming: Max 2D Collision Part 1_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->










































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  








































  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>Learning 2D Game Programming: Max 2D Collision Part 1</title>
  <meta content="Assari" name="author">
</head>


<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr;">
</div><div id="wm-ipp-print">The Wayback Machine - http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com:80/tutorials/gameprogramming/collision/T1%20Collision2.html</div>
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/donate.html" scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1 Collision2.html","20061014081157",1996,"/_static/",["/_static/css/banner-styles.css?v=omkqRugM","/_static/css/iconochive.css?v=qtvMKcIJ"], "False");
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->































<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;">Learning 2D Game Programming: Max 2D Collision Part 1 <br>









































</span>(c) Assari 2006<br>































<br>



<a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html">Part 1</a>, <a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T2%20Collision.html">Part 2</a>, <a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T3%20Collision.html">Part 3</a><br>



<br>


























</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Table of Contents<br>









































</span></span>
<ol style="font-family: Tahoma;" id="mozToc">





<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId578655">Introduction</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId938547">Rectangle Overlap</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId39150">Circle Rectangle Overlap</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId891938">BlitzMax Collision Functions</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId134929">ImagesCollide</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId316595">ImagesCollide with Animation</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId316595">ImagesCollide with Scaling</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId316595">ImagesCollide with Rotation</a></li>





  <li><a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html#mozTocId578655">Summary</a></li>





</ol>


























<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">Introduction</span></small></small></h1>


























<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"></span>Having
a game where nothing happens when different moving objects simple
passes over each other is no fun. Even a simple action game such as
Pong requires that some form of collision mechanism be present.<br>














<br>














A simple way to look at a collision is that it is nothing more than when
two objects overlap each other. Let us take a look at the simplest form
of collision, when two rectangular object overlaps each other.</span></span>
<h1><a class="mozTocH1" name="mozTocId938547"></a><small><small><small><span style="font-family: Tahoma;">Rectangle Overlap</span></small></small></small></h1>
















<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span><span style="font-family: Arial;">The simplest form of collision detection is the rectangle overlap.<br>














<br>














&nbsp;</span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Let us see an example on how this works:-</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
















<br>
















</span></span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);">Graphics <span style="color: rgb(255, 255, 255);">640,480</span><br>














While Not (KeyHit<span style="color: rgb(255, 255, 255);">(key_escape)</span> Or AppTerminate())<br>














&nbsp; Cls<br>














&nbsp; SetColor <span style="color: rgb(255, 255, 255);">0,255,0</span><br>














&nbsp; DrawRect <span style="color: rgb(255, 255, 255);">150,200,100,100</span><br>














&nbsp; SetColor <span style="color: rgb(255, 255, 255);">0,0,255</span><br>














&nbsp; DrawRect MouseX(),MouseY()<span style="color: rgb(255, 255, 255);">,100,100</span><br>














&nbsp; Flip<br>














Wend<br>














End</span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"></td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>
















<br>












<span style="font-family: Arial;"></span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 001.png"></td>






      <td></td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>






<br>






<span style="font-family: Arial;">As you can see from running the above
program as there are no collision detection in the code nothing happens
when the two rectangle overlaps each other. <br>












<br>











Let us now add a collision checking function called RectsOverlap
(Rectangle Overlaps) and we change the color of the moving rectangle
when an overlap happens.<br>












<br>












</span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span><span style="font-family: Arial;"></span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);">Graphics <span style="color: rgb(255, 255, 255);">640,480</span><br>














While Not (KeyHit<span style="color: rgb(255, 255, 255);">(key_escape)</span> Or AppTerminate())<br>














&nbsp; Cls<br>














&nbsp; SetColor <span style="color: rgb(255, 255, 255);">0,255,0</span><br>














&nbsp; DrawRect <span style="color: rgb(255, 255, 255);">150,200,100,100</span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"><br>












&nbsp; If RectsOverlap<span style="color: rgb(255, 255, 255);">(150,200,100,100,</span>MouseX(),MouseY()<span style="color: rgb(255, 255, 255);">,100,100)</span><br>












&nbsp;&nbsp;&nbsp; &nbsp; SetColor <span style="color: rgb(255, 255, 255);">255,0,0</span><br>












&nbsp; Else<br>












&nbsp;&nbsp;&nbsp; &nbsp; SetColor<span style="color: rgb(255, 255, 255);"> 0,0,255</span><br>












&nbsp; EndIf<br>












&nbsp; DrawRect MouseX(),MouseY()<span style="color: rgb(255, 255, 255);">,100,100</span><br>












&nbsp; Flip&nbsp;<br>












Wend<br>












End<br>












      <br>












Function <span style="color: rgb(255, 255, 255);">RectsOverlap:</span>Int<span style="color: rgb(255, 255, 255);">(x0, y0, w0, h0, x2, y2, w2, h2)</span><br>












&nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">x0 &gt; (x2 + w2) Or (x0 + w0) &lt; x2</span> Then Return False<br>












&nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">y0 &gt; (y2 + h2) Or (y0 + h0) &lt; y2</span> Then Return False<br>












&nbsp;&nbsp;&nbsp; Return True<br>












End Function</span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"></td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>














<span style="font-family: Arial;"><br>





</span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 003.png"><br>





      </td>






      <td><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 002.png"></td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>





<span style="font-family: Arial;">






Now we can see the moving rectangle turning red whenver an overlap
(collision) happens. So there we have it, our first working collision
function :)<br>












</span>
<h1><a class="mozTocH1" name="mozTocId39150"></a><small><small><small><span style="font-family: Tahoma;">Circle Rectangle Overlap</span></small></small></small></h1>
















<span style="font-family: Lucida Console;"></span><span style="font-family: Arial;">Now if we were to modify our program a little bit,</span><span style="font-family: Arial;">by having a moving oval instead of a rectangle:-<br>










<br>












</span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">Graphics 640,480<br>














While Not (KeyHit(key_escape) Or AppTerminate())<br>














&nbsp; Cls<br>














&nbsp; SetColor 0,255,0<br>














&nbsp; DrawRect 150,200,100,100</span><span style="font-family: Tahoma;"><br>












&nbsp; If RectsOverlap(150,200,100,100,MouseX(),MouseY(),100,100)<br>












&nbsp;&nbsp;&nbsp; &nbsp; SetColor 255,0,0<br>












&nbsp; Else<br>












&nbsp;&nbsp;&nbsp; &nbsp; SetColor 0,0,255<br>












&nbsp; EndIf<br>












&nbsp; <span style="color: rgb(255, 255, 0);">DrawOval</span> MouseX()<span style="color: rgb(255, 255, 255);">-50</span>,MouseY()<span style="color: rgb(255, 255, 255);">-50</span>,100,100<br>












&nbsp; Flip&nbsp;<br>












Wend<br>












End<br>












      <br>












Function RectsOverlap:Int(x0, y0, w0, h0, x2, y2, w2, h2)<br>












&nbsp;&nbsp;&nbsp; If x0 &gt; (x2 + w2) Or (x0 + w0) &lt; x2 Then Return False<br>












&nbsp;&nbsp;&nbsp; If y0 &gt; (y2 + h2) Or (y0 + h0) &lt; y2 Then Return False<br>












&nbsp;&nbsp;&nbsp; Return True<br>












End Function</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"></td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>












<span style="font-family: Arial;"><br>











Our collision checking does not work properly anymore. We now need
another collision function, specifically for checking a circle versus
rectangle overlap.<br>












<br>












</span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;<br>








      </td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma; color: rgb(153, 153, 153);">Graphics 640,480<br>














While Not (KeyHit(key_escape) Or AppTerminate())<br>














&nbsp; Cls<br>














&nbsp; SetColor 0,255,0<br>














&nbsp; DrawRect 150,200,100,100</span><span style="font-family: Tahoma;"><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp; If CircRectsOverlap(150,200,100,100,MouseX(),MouseY(),50)</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp;&nbsp;&nbsp; &nbsp; SetColor 255,0,0</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp; Else</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp;&nbsp;&nbsp; &nbsp; SetColor 0,0,255</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp; EndIf</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp; DrawOval MouseX()-50,MouseY()-50,100,100</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

&nbsp; Flip&nbsp;</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

Wend</span><br style="color: rgb(153, 153, 153);">










      <span style="color: rgb(153, 153, 153);">

End</span><br>












      <br>










      <span style="color: rgb(255, 255, 255);">
      <span style="color: rgb(255, 255, 102);">Function</span> CircRectsOverlap(x0, y0, w0, h0, cx, cy, r)</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp;&nbsp;testX=cX</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp;&nbsp;testY=cY</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 102);">If</span> TestX &lt; x0 <span style="color: rgb(255, 255, 102);">Then</span> TestX=x0</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 102);">If</span> TestX &gt; (x0+w0) <span style="color: rgb(255, 255, 102);">Then</span> TestX=(x0+w0)</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 102);">If</span> TestY &lt; y0 <span style="color: rgb(255, 255, 102);">Then</span> Testy=y0</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 102);">If</span> TestY &gt; (y0+h0) <span style="color: rgb(255, 255, 102);">Then</span> Testy=(y0+h0)</span><br style="color: rgb(255, 255, 255);">











      <br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 255);">
&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 102);">Return</span>&nbsp;((cX-TestX)*(cX-TestX)+(cY-TestY)*(cY-TestY))&lt;r*r</span><br style="color: rgb(255, 255, 255);">










      <span style="color: rgb(255, 255, 102);">
End Function</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"><br>





      <br>








      </td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>





<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 004.png"><br>





      </td>






      <td><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 005.png"><br>





      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>





<h1><a class="mozTocH1" name="mozTocId891938"></a><small><small><small><span style="font-family: Tahoma;">BlitzMax Collision Functions</span></small></small></small></h1>













<span style="font-family: Arial;">If we need to have a different
collision function for each different pairs of objects that we have on
the screen &nbsp;then we could be in serious trouble. You can also see
that once we deviate from the simple rectangular overlap the maths get
hairier as well.<br>











<br>










Fortunately for us BlitzMax (specifically Max2D) provides several
collision &nbsp;functions to simplify things for us. Let us take a look
at how we would have coded the above collision detection using the
builtin Max2D collision function. </span><br>








<h1><a class="mozTocH1" name="mozTocId134929"></a><small><small><small><span style="font-family: Tahoma;">ImagesCollide</span></small></small></small></h1>
















<span style="font-family: Arial;">The simplest collision function provided by BlitzMax is the ImagesCollide function. It has the following syntax<br>








<br>








</span>
<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">















  <tbody>















    <tr>















      <td align="undefined" valign="undefined"></td>















      <td style="background-color: rgb(204, 255, 255);">Function ImagesCollide(image1:TImage,x1,y1,frame1,image2:TImage,x2,y2,frame2)<span style="font-weight: bold;"></span></td>















      <td align="undefined" valign="undefined"></td>















    </tr>










    






  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>








<br>








<span style="font-family: Arial;">Basically what the function requires
is for us to give the two images we want to check for collision with
their respective positions on the screen. We can ignore the frame
parameter for the moment by putting a zero. </span>
<table style="text-align: left; width: 732px; height: 69px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">&nbsp;&nbsp;ImagesCollide<span style="color: rgb(255, 255, 255);">(Alien,150,200,0,Player</span>,MouseX(),MouseY()<span style="color: rgb(255, 255, 255);">,0)</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(153, 153, 153);"></span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"></td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>








<span style="font-family: Arial;"><br>








So in our usage above, our Alien is at location 150,200 and our Player is at where the mouse is.<br>








<br>








Build and run the program below and see the collision function in action.<br>








<br>










</span>
<table style="text-align: left; height: 89px; width: 732px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">Graphics <span style="color: rgb(255, 255, 255);">640,480</span><br>








Local <span style="color: rgb(255, 255, 255);">URL</span>:String=<span style="color: rgb(51, 255, 51);">"http::www.2dgamecreators.com/tutorials/gameprogramming/basic/"</span><br>








Local <span style="color: rgb(255, 255, 255);">Player:TImage=</span>LoadImage(LoadBank<span style="color: rgb(255, 255, 255);">(URL+</span><span style="color: rgb(51, 255, 51);">"blobship_1-1.png"</span><span style="color: rgb(255, 255, 255);">))</span><br>








Local <span style="color: rgb(255, 255, 255);">Alien:TImage=</span>LoadImage(LoadBank(URL+<span style="color: rgb(51, 255, 51);">"cartoonufo_1-1.png"</span><span style="color: rgb(255, 255, 255);">))</span><br>








      <br>








While Not (KeyHit<span style="color: rgb(255, 255, 255);">(key_escape) </span>Or AppTerminate())<br>








&nbsp; Cls<br>








&nbsp; DrawImage <span style="color: rgb(255, 255, 255);">Alien,150,200</span><br>








&nbsp; DrawImage <span style="color: rgb(255, 255, 255);">Player,</span>MouseX(),MouseY()<br>








&nbsp; If ImagesCollide<span style="color: rgb(255, 255, 255);">(Alien,150,200,0,Player</span>,MouseX(),MouseY()<span style="color: rgb(255, 255, 255);">,0)</span><br>








&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor <span style="color: rgb(255, 255, 255);">255,0,0</span><br>








&nbsp; Else<br>








&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor<span style="color: rgb(255, 255, 255);"> 0,0,0</span><br>








&nbsp; EndIf<br>








&nbsp; Flip<br>








Wend<br>








End</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(153, 153, 153);"></span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>
































      <span style="color: rgb(255, 255, 102);"></span></span></span></td>
































      <td align="undefined" valign="undefined"></td>
































    </tr>
































  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>










<span style="font-family: Arial;"><br>





</span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 006.png"><br>





      </td>






      <td><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 007.png"><br>





      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>





<br>





<span style="font-family: Arial;">As you can see, using this function is pretty straightforward. </span><span style="font-family: Arial;"></span><br>








<span style="font-family: Arial;">

</span>
<h1><a class="mozTocH1" name="mozTocId316595"></a><small><small><small><span style="font-family: Tahoma;">ImagesCollide with Animation</span></small></small></small></h1>








<span style="font-family: Arial;">Now let us take a look at the Frame
parameter which was skipped earlier. If you build and run the program
below, you will see an explosion animation which collides properly with
our spaceship.</span><br>








<span style="font-family: Arial;"><br>










</span>
<table style="text-align: left; width: 732px; height: 439px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">Graphics 640,480</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">Local URL:String="http::www.2dgamecreators.com/tutorials/gameprogramming/basic/"</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">Local Player:TImage=LoadImage(LoadBank(URL+"blobship_1-1.png"))</span><br>








Local <span style="color: rgb(255, 255, 255);">Alien:TImage</span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">=LoadAnimImage</span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span>(LoadBank(URL+<span style="color: rgb(51, 255, 51);">"exp1.png"</span><span style="color: rgb(255, 255, 255);">),64,64,0,16)</span><br>








      </span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">Local <span style="color: rgb(255, 255, 255);">Frame</span>:Int<span style="color: rgb(255, 255, 255);">=0<br>








      <span style="color: rgb(255, 255, 102);">Local</span> AnimDelay:<span style="color: rgb(255, 255, 102);">int</span>=10<br>








      </span><br>








      </span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">While Not (KeyHit(key_escape) Or AppTerminate())</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; Cls</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; DrawImage Alien,150,200<span style="color: rgb(255, 255, 255);">, Frame</span></span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; DrawImage Player,MouseX(),MouseY()</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; If ImagesCollide(Alien,150,200,<span style="color: rgb(255, 255, 255);">Frame</span>,Player,MouseX(),MouseY(),0)</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor 255,0,0</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; Else</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor 0,0,0</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; EndIf</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; Flip<br>








&nbsp; <span style="color: rgb(255, 255, 102);">If</span> <span style="color: rgb(255, 255, 255);">AnimDelay&lt;0</span> <span style="color: rgb(255, 255, 102);">Then</span><br>








      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;">&nbsp; <span style="color: rgb(255, 255, 255);">&nbsp; &nbsp;Frame :+ 1</span><br>








&nbsp; &nbsp; &nbsp;If <span style="color: rgb(255, 255, 255);">Frame&gt;15</span> Then <span style="color: rgb(255, 255, 255);">Frame=0</span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);"><br>








&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: rgb(255, 255, 255);">AnimDelay=10</span><br>








&nbsp; <span style="color: rgb(255, 255, 102);">EndIf</span><br>








&nbsp; <span style="color: rgb(255, 255, 255);">AnimDelay :- 1</span><br>








      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span><br>








      <span style="color: rgb(255, 255, 255);"></span></span></span><br>








      <span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">Wend<br>








End</span></span></td>








      <td align="undefined" valign="undefined"></td>








    </tr>








  
  
  
  
  
  
  
  
  </tbody>
</table>








<span style="font-family: Arial;"><br>








To use the ImagesCollide function with animated images, we just need to
draw the images with their frame count and then use the same frame
count in the ImagesCollide parameter. The AnimDelay and Frame
incrementing part of the code is required for proper animation.<br>





</span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 008.png"><br>





      </td>






      <td><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 009.png"><br>





      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>





<br>








<span style="font-family: Arial;">

</span>
<h1><a class="mozTocH1" name="mozTocId316595"></a><small><small><small><span style="font-family: Tahoma;">ImagesCollide with Scaling</span></small></small></small></h1>








<span style="font-family: Arial;">Blitzmax allows for real time scaling
of the images that we draw on-screen using the SetScale function which
has the following syntax:-</span><br>








<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">















  <tbody>















    <tr>















      <td align="undefined" valign="undefined"></td>















      <td style="background-color: rgb(204, 255, 255);">Function SetScale( scale_x#,scale_y# )<span style="font-weight: bold;"></span></td>















      <td align="undefined" valign="undefined"></td>















    </tr>










    






  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>








<br>








<span style="font-family: Arial;">Unfortunately, the ImagesCollide
function does not&nbsp;work properly when scaling is involved. Try out the
following code and observe how the collision is not working properly
anymore.<br>








</span>
<table style="text-align: left; width: 732px; height: 439px;" border="0" cellpadding="2" cellspacing="2">
































  <tbody>
































    <tr>
































      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>
































      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);">Graphics 640,480</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">Local URL:String="http::www.2dgamecreators.com/tutorials/gameprogramming/basic/"</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">Local Player:TImage=LoadImage(LoadBank(URL+"blobship_1-1.png"))</span><br>








      <span style="color: rgb(153, 153, 153);">Local Alien:TImage=</span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">LoadAnimImage</span><span style="font-family: Tahoma;">(LoadBank(URL+"exp1.png"),64,64,0,16)<br>








      </span><span style="font-family: Tahoma;">Local Frame:Int=0<br>








Local AnimDelay:int=10<br>








      <span style="color: rgb(255, 255, 102);">Local</span> <span style="color: rgb(255, 255, 255);">PlayerSize:<span style="color: rgb(255, 255, 102);">Int</span>=1</span><br>








      <span style="color: rgb(255, 255, 102);">Local</span> <span style="color: rgb(255, 255, 255);">AlienSize:<span style="color: rgb(255, 255, 102);">Int</span>=2</span><br>








      <br>








      </span><span style="font-family: Tahoma;">While Not (KeyHit(key_escape) Or AppTerminate())<br>








&nbsp; Cls<br>








&nbsp; <span style="color: rgb(255, 255, 102);">SetScale</span> <span style="color: rgb(255, 255, 255);">AlienSize,AlienSize</span><br>








&nbsp; DrawImage Alien,150,100,Frame<br>








      </span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">&nbsp; <span style="color: rgb(255, 255, 102);">SetScale</span> <span style="color: rgb(255, 255, 255);">PlayerSize,PlayerSize</span></span></span><br>








      <span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">&nbsp; DrawImage Player,MouseX(),MouseY()<br>








&nbsp; If ImagesCollide(Alien,150,100,Frame,Player,MouseX(),MouseY(),0)<br>








&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor 255,0,0<br>








&nbsp; Else<br>








&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetClsColor 0,0,0<br>








&nbsp; EndIf<br>








&nbsp; Flip<br>








&nbsp; If AnimDelay&lt;0 Then<br>








      </span><span style="font-family: Tahoma;">&nbsp; &nbsp; &nbsp;Frame :+ 1<br>








&nbsp; &nbsp; &nbsp;If Frame&gt;15 Then Frame=0</span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);"><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp;&nbsp; AnimDelay=10</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; EndIf</span><br style="color: rgb(153, 153, 153);">








      <span style="color: rgb(153, 153, 153);">&nbsp; AnimDelay :- 1</span><br>








      </span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span><span style="color: rgb(255, 255, 255);"></span></span></span><br>








      <span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">Wend<br>








End</span></span></td>








      <td align="undefined" valign="undefined"></td>








    </tr>








  
  
  
  
  
  
  
  
  </tbody>
</table>








<span style="font-family: Arial;"><br>





</span>
<table style="text-align: left; width: 100px;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="width: 33px;" align="undefined" valign="undefined"></td>






      <td style="width: 468px;" align="undefined" valign="undefined"><img style="width: 500px; height: 396px;" alt="" src="./Learning 2D Game Programming: Max 2D Collision Part 1_files/T1 0010.png"><br>





      </td>






      <td><br>





      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>





<br>





<span style="font-family: Arial;">Fortunately, BlitzMax has a variant of the <span style="font-weight: bold;">ImagesCollide</span> function
called, imaginatively, <span style="font-weight: bold;">ImagesCollide2</span> which has &nbsp;the following
syntax:-</span><span style="font-family: Arial;"></span><span style="font-family: Arial;"></span><span style="font-family: Arial;"></span><br>








<small>






  </small><small>






    </small><small>






      </small><small>






      </small><small>






      </small><small>






    </small><small>

    






  
  
  
  
  
  </small>
  <small>
  </small>
<table style="text-align: left; font-family: Tahoma; width: 846px; height: 55px;" border="0" cellpadding="2" cellspacing="2">








  <tbody>








    <tr>








      <td align="undefined" valign="undefined"><small></small></td>








      <td style="background-color: rgb(204, 255, 255);"><small>Function 
ImagesCollide2(image1:TImage,x1,y1,frame1,rot1#,scalex1#,scaley1#,image2:TImage,x2,y2,frame2,rot2#,scalex2#,scaley2#)<span style="font-weight: bold;"></span></small></td>








      <td align="undefined" valign="undefined"><small></small></td>








      </tr>








    
  
  
  
  
  
  
  
  </tbody>
</table>








<br>








<span style="font-family: Arial;">Note that is complicated function
allows for rotation and scale factors to be part of its parameters. So
all we need to do is used the ImagesCollide2 function as follows:-<br>








</span>
<small>























  </small><small>























    </small><small>























      </small><small>























      </small>
<table style="text-align: left; width: 811px; height: 61px;" border="0" cellpadding="2" cellspacing="2">








  <tbody>








    <tr>








      <td style="width: 18px;" align="undefined" valign="undefined"><small>&nbsp;
&nbsp;</small></td>








      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 743px;"><small><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span><span style="font-family: Lucida Console; color: rgb(255, 255, 102);"><span style="font-family: Tahoma;"><span style="color: rgb(153, 153, 153);"></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">&nbsp; If ImagesCollide2(Alien,150,100,Frame,<span style="color: rgb(255, 255, 255);">0,AlienSize,AlienSize,Player</span>,MouseX(),MouseY(),0,<span style="color: rgb(255, 255, 255);">0,PlayerSize,PlayerSize</span>)</span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><br>








      </span></span></small></td>








      <td style="width: 22px;" align="undefined" valign="undefined"><small></small></td>








    </tr>








  
  
  
  
  
  
  
  
  </tbody>
</table>








<span style="font-family: Arial;"><br>





So go ahead and replace the ImagesCollide function with the above
ImagesCollide2 function and see the collision working properly.</span><br>








<span style="font-family: Arial;"></span>
<h1><a class="mozTocH1" name="mozTocId316595"></a><small><small><small><span style="font-family: Tahoma;">ImagesCollide with Rotation</span></small></small></small></h1>








<span style="font-family: Arial;">I'll leave it as an exercise for you to figure out how the rotation functionality should be used :)</span><br>






















<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">Summary</span></small></small></h1>






















<span style="font-family: Arial;">In this tutorial we saw two simple
(but fast) way to check for collision using the Rectangle Overlaps and
Circle Rectangle Overlaps functions. But these functions work only for
rectangles and circles.<br>





<br>





As our games typically have images instead, we need far more
sophisticated functions. Luckily for us BlitzMax provides these
pixel-perfect collision functions called ImagesCollide and
ImagesCollide2.<br>





<br>





In the next tutorial, we are going to see how to use a more sophisticated collision system provided by BlitzMax.<br>





<br>





</span><span style="font-family: Arial;">








Back to the <a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/index.html">index</a></span><span style="font-family: Arial;">,&nbsp;<a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html"></a> <a href="http://web.archive.org/web/20061014081157/http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T2%20Collision.html">Next</a> Tutorial</span><br>




<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span>









<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">
</span></span><span style="font-family: Tahoma;"></span>


<!--
     FILE ARCHIVED ON 08:11:57 Oct 14, 2006 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 05:42:11 Oct 04, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 730.924
  exclusion.robots: 0.329
  exclusion.robots.policy: 0.315
  RedisCDXSource: 0.741
  esindex: 0.011
  LoadShardBlock: 707.264 (3)
  PetaboxLoader3.datanode: 392.638 (4)
  CDXLines.iter: 19.364 (3)
  PetaboxLoader3.resolve: 423.179 (2)
  load_resource: 212.69
--></body></html>