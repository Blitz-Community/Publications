<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0143)http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><script src="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/analytics.js" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app200.us.archive.org';v.server_ms=647;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/bundle-playback.js" charset="utf-8"></script>
<script type="text/javascript" src="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/wombat.js" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("http://web.archive.org/web");
  __wm.wombat("http://www.2dgamecreators.com:80/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html","20070206041544","http://web.archive.org/","web","/_static/",
	      "1170735344");
</script>
<link rel="stylesheet" type="text/css" href="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->




























  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  


























  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <title>Beginning BlitzMax 2D Game Programming: Tutorial 3 - Introducing the Game Loop</title>
  <meta content="Assari" name="author">
</head>


<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display: block; direction: ltr;">
</div><div id="wm-ipp-print">The Wayback Machine - http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com:80/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html</div>
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="./Learning 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework_files/donate.html" scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2 - Basic Game Framework.html","20070206041544",1996,"/_static/",["/_static/css/banner-styles.css?v=omkqRugM","/_static/css/iconochive.css?v=qtvMKcIJ"], "False");
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


&nbsp;<span style="font-family: Tahoma;"><span style="font-weight: bold;">Learning</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"> 2D Game Programming: Basic Framework Part 2 - Introducing the Basic Game Framework <br>



























</span>(c) Assari 2006<br>

















<br>












</span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Table of Contents<br>



























</span></span>
<ol style="font-family: Tahoma;" id="mozToc">

<!--mozToc h1 1 h2 2 h3 3 h4 4 h5 5 h6 6--><li><a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html#mozTocId578655">The Basic Game Framework</a></li>

  <li><a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html#mozTocId578655">Summary</a></li>

  <li><a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F2%20-%20Basic%20Game%20Framework.html#mozTocId598073">Blitzmax commands introduced in this tutorial</a></li>

</ol>












<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">The Basic Game Framework</span></small></small></h1>












<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="font-weight: bold;"></span>In
the previous tutorial we saw how we could create a player controlled
object (which we called a SpaceShip) using the BlitzMax feature called
User Defined Types.&nbsp;We also had a rudimentary way of controlling its movement using the mouse.<br>






<br>






In this tutorial we are going to learn how to<br>






</span></span>
<ul>






  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Control the player object using the keyboard instead of the mouse</span></span></li>






  




  <li><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Break out of our main loop using either the ESCAPE key or the Window X (Close) button</span></span></li>






</ul>






<span style="font-weight: bold;"></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">Before
we start to learn anything, type in or cut and paste the program below
into the MaxIDE and click on the 'Build and Run' button. Use the arrow
keys on the keyboard to move the spaceship. To exit the program either
press the ESCAPE key or click on the close window button.</span></span><br>






<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>












</span></span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);">' Tutorial 3: The Game Loop</span></span></span></span></span></span><br>






      <span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);">' -----------------SETUP GAME CONDITIONS--------------------</span></span></span></span></span></span><br>






      <span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);">Graphics <span style="color: rgb(255, 255, 255);">640,480,0</span></span><br style="color: rgb(255, 255, 0);">









      </span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><br>








      Local <span style="color: rgb(255, 255, 255);">URL</span>:String=<span style="color: rgb(51, 255, 51);">"http::www.2dgamecreators.com/tutorials/gameprogramming/basic/"</span><br>

Local <span style="color: rgb(255, 255, 255);">Player:TSpaceShip = TSpaceShip.Create(URL+</span><span style="color: rgb(51, 255, 51);">"/blobship_1-1.png"</span><span style="color: rgb(255, 255, 255);">,320,420)</span><br>

      </span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(255, 255, 255);"></span><br>






      <span style="color: rgb(102, 204, 204);">' ---------------------MAIN LOOP-------------------------</span><br>






Repeat<br>

      <span style="color: rgb(255, 255, 255);"></span>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Cls<br>






      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Player.UpdateState()</span><br style="color: rgb(255, 255, 255);">






      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Player.DrawSelf()</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Flip<br>

Until KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ESCAPE)</span> Or AppTerminate()<br>






End<br>






      <br>






      </span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);">' ---------------------TYPES, ATTRIBUTES AND BEHAVIOURS-------------------------</span></span></span></span></span></span><br>






      <span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);">
Type <span style="color: rgb(255, 255, 255);">TSpaceShip</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">
&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">X:</span>Int <span style="color: rgb(255, 255, 255);">= 320</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">
&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Y:</span>Int <span style="color: rgb(255, 255, 255);">= 420</span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><br>






&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Speed</span>:Int<span style="color: rgb(255, 255, 255);">=3<br>

      </span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; Field</span> &nbsp;<span style="color: rgb(255, 255, 255);">Image:TImage</span></span></span><br>

      <span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(255, 255, 255);"></span>




&nbsp;&nbsp;&nbsp; <br>

&nbsp;&nbsp;&nbsp; Function <span style="color: rgb(255, 255, 255);">Create:TSpaceShip(File:</span>String<span style="color: rgb(255, 255, 255);">,xstart:</span>Int<span style="color: rgb(255, 255, 255);">,ystart:</span>Int<span style="color: rgb(255, 255, 255);">)</span><br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Local <span style="color: rgb(255, 255, 255);">Ship:TSpaceShip=</span>New <span style="color: rgb(255, 255, 255);">TSpaceShip</span><br>

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.X=xstart</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.Y=ystart</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.Image=</span>LoadImage<span style="color: rgb(255, 255, 255);">(</span>LoadBank<span style="color: rgb(255, 255, 255);">(File))</span><br>

      <br>

      </span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;If&nbsp;<span style="color: rgb(255, 255, 255);">Ship.Image=</span>Null</span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Print <span style="color: rgb(51, 255, 51);">"Not able to load image file. Program aborting"</span></span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; End</span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;EndIf</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Return Ship<br>

&nbsp;&nbsp;&nbsp; End Function<br>

      <br>






&nbsp;&nbsp;&nbsp; Method <span style="color: rgb(255, 255, 255);">UpdateState()</span><br>






&nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_LEFT)</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X <span style="color: rgb(255, 255, 255);">:- Speed</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf&nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_RIGHT)</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X <span style="color: rgb(255, 255, 255);">:+ Speed</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf<br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">X&lt;0 </span>Then <span style="color: rgb(255, 255, 255);">X=0</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">X&gt;620</span> Then <span style="color: rgb(255, 255, 255);">X=620</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; End Method<br>






&nbsp;&nbsp;&nbsp; <br>






      </span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 0);">&nbsp;&nbsp; Method <span style="color: rgb(255, 255, 255);">DrawSelf()</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DrawImage <span style="color: rgb(255, 255, 255);">Image, X,Y</span><span style="color: rgb(255, 255, 255);"></span></span><span style="color: rgb(255, 255, 0);"></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">&nbsp;&nbsp;&nbsp; End Method</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><br>






      <br>






End Type</span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>












<br>










<span style="font-family: Arial;">Now that you have seen how the program works, let us go through the lines to make sure we understand what is happening here<br>

<br>

First note that we are calling our player Player instead of SpaceShip
and we are now using a Create function to create our spaceship given
the image filename and its starting location<br>

<br>

</span>
<table style="text-align: left; width: 732px; height: 63px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);">Local <span style="color: rgb(255, 255, 255);">URL</span>:String=<span style="color: rgb(51, 255, 51);">"http::www.2dgamecreators.com/tutorials/gameprogramming/basic/"</span><br>

Local <span style="color: rgb(255, 255, 255);">Player:TSpaceShip = TSpaceShip.Create(URL+</span><span style="color: rgb(51, 255, 51);">"/blobship_1-1.png"</span><span style="color: rgb(255, 255, 255);">,320,420)</span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 255);"></span><span style="color: rgb(255, 255, 255);"></span><br>









      </span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 255);"></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 255);"></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>

<span style="font-family: Arial;">&nbsp;<br>

Notice how I have brought together various parts of the codes from the
previous tutorial into a Create function will which Create a Player for
us given the image File and its starting X and Y position.<br>

</span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(102, 204, 204);"></span></span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;">Type TSpaceShip<br>








      
&nbsp;&nbsp;&nbsp; Field X:Int = 320<br>








      
&nbsp;&nbsp;&nbsp; Field Y:Int = 420</span><span style="font-family: Tahoma;"><br>






&nbsp;&nbsp;&nbsp; Field Speed:Int=3<br>

      </span><span style="font-family: Tahoma;">&nbsp; &nbsp; Field &nbsp;Image:TImage</span></span><br>

      <span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(255, 255, 255);"></span>




&nbsp;&nbsp;&nbsp; <br>

&nbsp;&nbsp;&nbsp; Function <span style="color: rgb(255, 255, 255);">Create:TSpaceShip(File:</span>String<span style="color: rgb(255, 255, 255);">,xstart:</span>Int<span style="color: rgb(255, 255, 255);">,ystart:</span>Int<span style="color: rgb(255, 255, 255);">)</span><br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Local <span style="color: rgb(255, 255, 255);">Ship:TSpaceShip=</span>New <span style="color: rgb(255, 255, 255);">TSpaceShip</span><br>

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.X=xstart</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.Y=ystart</span><br style="color: rgb(255, 255, 255);">

      <span style="color: rgb(255, 255, 255);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Ship.Image=</span>LoadImage<span style="color: rgb(255, 255, 255);">(</span>LoadBank<span style="color: rgb(255, 255, 255);">(File))</span><br>

      <br>

      </span></span></span></span></span><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;If&nbsp;<span style="color: rgb(255, 255, 255);">Ship.Image=</span>Null</span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Print <span style="color: rgb(51, 255, 51);">"Not able to load image file. Program aborting"</span></span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; End</span><br style="color: rgb(255, 255, 102);">



      <span style="color: rgb(255, 255, 102);">&nbsp; &nbsp; &nbsp; &nbsp;EndIf</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; <br>

      </span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Return <span style="color: rgb(255, 255, 255);">Ship</span><br>

&nbsp;&nbsp;&nbsp; End Function</span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"></span><span style="color: rgb(255, 255, 51);"></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>

<span style="font-family: Arial;">&nbsp;Main Game Loop now look like this,</span>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);">Repeat<span style="color: rgb(153, 153, 153);"></span><span style="color: rgb(153, 153, 153);"></span><br style="color: rgb(153, 153, 153);">






      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Cls</span><br style="color: rgb(153, 153, 153);">






      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Player.UpdateState()</span><br style="color: rgb(153, 153, 153);">






      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Player.DrawSelf()</span><br style="color: rgb(153, 153, 153);">






      <span style="color: rgb(153, 153, 153);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Flip</span><span style="color: rgb(153, 153, 153);"></span><br>






Until KeyDown<span style="color: rgb(255, 255, 255);">(KEY_ESCAPE)</span> Or AppTerminate()</span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>









<p class="MsoNormal"><span style="font-family: Arial;">The Game Loop will continue to repeat until the <span style="font-weight: bold;">ESCAPE</span> key is pressed or Window Close button is clicked.&nbsp;</span></p>






<p class="MsoNormal"><span style="font-family: Arial;">The <span style="font-weight: bold;">KeyDown</span>(KEY_ESCAPE)&nbsp; function will be true when then the ESCAPE key is pressed. Similarly the <span style="font-weight: bold;">AppTerminate</span>() function will be true when the Window Close Button is clicked.</span></p>






<p class="MsoNormal"><span style="font-family: Arial;">So the loop will exit when either the ESCAPE key is pressed <span style="font-weight: bold;">OR</span> the Close button is clicked.</span></p>






<p class="MsoNormal"><span style="font-family: Arial;">Notice below how we now have numbers after the <span style="font-weight: bold;">Field</span>
variable declaration. BlitzMax allows us to assign default numbers to
variables. In this instance we want our spaceship to be located at
coordinates 320,420 at the beginning of the game. If you have not noticed this
before, try re-running the above program again. The speed (which in
this case is the number of pixels moving per frame
is set to 3).</span><br>






</p>






<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 36px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 639px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);"></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 255);"><span style="color: rgb(255, 255, 102);"></span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 0);"><span style="color: rgb(255, 255, 0);">
Type <span style="color: rgb(255, 255, 255);">TSpaceShip</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">
&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">X:</span>Int <span style="color: rgb(255, 255, 255);">= 320</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">
&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Y:</span>Int <span style="color: rgb(255, 255, 255);">= 420</span></span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><br>






&nbsp;&nbsp;&nbsp; Field <span style="color: rgb(255, 255, 255);">Speed</span>:Int<span style="color: rgb(255, 255, 255);">=3</span></span></span></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>






<p class="MsoNormal"><span style="font-family: Arial;">The UpdateState Method now checks for keypresses, if the <span style="font-weight: bold;">&nbsp;LEFT</span> cursor key was pressed, then the location variable <span style="font-weight: bold;">X </span>is reduced by the amount stored in variable <span style="font-weight: bold;">Speed</span>, in this case 3 pixels. Similarly for when the <span style="font-weight: bold;">RIGHT</span> cursor key is pressed the X position increases by 3 pixels.</span><br>








</p>








<table style="text-align: left; width: 732px; height: 119px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255);"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);"><span style="color: rgb(153, 153, 153);">&nbsp;&nbsp; Method UpdateState()</span><br>






&nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_LEFT)</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X <span style="color: rgb(255, 255, 255);">:- Speed</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf&nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown<span style="color: rgb(255, 255, 255);">(KEY_RIGHT)</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X <span style="color: rgb(255, 255, 255);">:+ Speed</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf<br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If X&lt;0 Then X=0</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If X&gt;620 Then X=620</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp;<span style="color: rgb(153, 153, 153);"> End Method </span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>










<p class="MsoNormal"><span style="font-family: Arial;"> 
</span><b style=""><span style="font-family: &#39;Courier New&#39;;"></span></b><span style="font-family: Arial;"><span style=""> </span>The IF statements are then used to make sure the location variable X does not go outside the screen..</span></p>










<table style="text-align: left; width: 732px; height: 37px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td style="width: 53px;" align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255); width: 616px;"><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);">&nbsp;<span style="color: rgb(153, 153, 153);">&nbsp; Method UpdateState()</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown(KEY_LEFT)</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X :- Speed</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf&nbsp;&nbsp;&nbsp; </span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If KeyDown(KEY_RIGHT)</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; X :+ Speed</span><br style="color: rgb(153, 153, 153);">





      <span style="color: rgb(153, 153, 153);">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; EndIf</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">X&lt;0 </span>Then <span style="color: rgb(255, 255, 255);">X=0</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; If <span style="color: rgb(255, 255, 255);">X&gt;620</span> Then <span style="color: rgb(255, 255, 255);">X=620</span><br>






&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <br>






&nbsp;&nbsp;&nbsp;<span style="color: rgb(153, 153, 153);"> End Method</span></span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>










<span style="font-family: Arial;"><br>





The DrawSelf() Method was left unchanged from previously.<br>





&nbsp;</span><b style=""><span style="font-family: &#39;Courier New&#39;;"></span></b>
<table style="text-align: left; width: 732px; height: 89px;" border="0" cellpadding="2" cellspacing="2">


















  <tbody>


















    <tr>


















      <td align="undefined" valign="undefined">&nbsp;
&nbsp;</td>


















      <td style="background-color: rgb(1, 81, 107); color: rgb(255, 255, 255);"><span style="font-family: Lucida Console; color: rgb(153, 153, 153);"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 0);">&nbsp;&nbsp; Method <span style="color: rgb(255, 255, 255);">DrawSelf()</span></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; DrawImage <span style="color: rgb(255, 255, 255);">Image, X,Y</span><span style="color: rgb(255, 255, 255);"></span></span><span style="color: rgb(255, 255, 0);"></span><br style="color: rgb(255, 255, 0);">








      <span style="color: rgb(255, 255, 0);">&nbsp;&nbsp;&nbsp; End Method</span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><span style="color: rgb(255, 255, 102);"><span style="color: rgb(192, 192, 192);"><span style="color: rgb(255, 255, 51);">&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"><br>


















      <span style="color: rgb(255, 255, 102);"></span></span></span></td>


















      <td align="undefined" valign="undefined"></td>


















    </tr>


















  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>










<br>








<h1><a class="mozTocH1" name="mozTocId578655"></a><small><small><span style="font-family: Tahoma;">Summary</span></small></small></h1>








<span style="font-family: Arial;">There you have it a fairly simple
game structure which demonstrate a fundamental structure of any game,
the game loop where all the action happens.<br>

<br>

Notice the three main sections in the above code <br>

</span>
<ul>

  <li><span style="font-family: Arial;">The game conditions setup block</span></li>

  <li><span style="font-family: Arial;">The Main Loop block</span></li>

  <li><span style="font-family: Arial;">The Type declaration&nbsp;block<br>

    </span></li>

</ul>

<span style="font-family: Arial;">This setup is the basic framework of our game program.<br>

</span>
<h1><a class="mozTocH1" name="mozTocId598073"></a><small><small><span style="font-family: Tahoma;">Blitzmax commands introduced in this tutorial</span></small></small></h1>

<span style="font-family: Arial;">Only two new functions here:-<br>

<br>

</span>

<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td align="undefined" valign="undefined"></td>






      <td style="background-color: rgb(204, 255, 255);">Function <span style="font-weight: bold;">AppTerminate</span>()</td>






      <td align="undefined" valign="undefined"></td>






    </tr>

    <tr>

      <td align="undefined" valign="undefined"></td>

      <td style="background-color: rgb(204, 255, 255);" align="undefined" valign="undefined">True if user has requested to terminate application.</td>

      <td align="undefined" valign="undefined"></td>

    </tr>






  
  
  
  
  
  </tbody>
</table>

<br>

<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td align="undefined" valign="undefined"></td>






      <td style="background-color: rgb(204, 255, 255);">Function <span style="font-weight: bold;">KeyDown</span>( key )<span style="font-weight: bold;"></span></td>






      <td align="undefined" valign="undefined"></td>






    </tr>

    <tr>

      <td align="undefined" valign="undefined"></td>

      <td style="background-color: rgb(204, 255, 255);" align="undefined" valign="undefined">Check for key state, returns True if <b>key</b> is currently down..</td>

      <td align="undefined" valign="undefined"></td>

    </tr>






  
  
  
  
  
  </tbody>
</table>

<span style="font-family: Arial;"><br>

</span>

<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td align="undefined" valign="undefined"></td>






      <td style="background-color: rgb(204, 255, 255);">Keyword <span style="font-weight: bold;">Function</span></td>






      <td align="undefined" valign="undefined"></td>






    </tr>

    <tr>

      <td align="undefined" valign="undefined"></td>

      <td style="background-color: rgb(204, 255, 255);" align="undefined" valign="undefined">Begin a Function declaration.</td>

      <td align="undefined" valign="undefined"></td>

    </tr>






  
  
  
  
  
  </tbody>
</table>

<br>

<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td align="undefined" valign="undefined"></td>






      <td style="background-color: rgb(204, 255, 255);">Keyword <span style="font-weight: bold;">Return</span></td>






      <td align="undefined" valign="undefined"></td>






    </tr>

    <tr>

      <td align="undefined" valign="undefined"></td>

      <td style="background-color: rgb(204, 255, 255);" align="undefined" valign="undefined">Return from a Function.</td>

      <td align="undefined" valign="undefined"></td>

    </tr>






  
  
  
  
  
  </tbody>
</table>

<span style="font-family: Arial;"><br>

</span>

<table style="text-align: left; width: 712px; height: 55px; font-family: Tahoma;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td align="undefined" valign="undefined"></td>






      <td style="background-color: rgb(204, 255, 255);">Keyword <span style="font-weight: bold;">EndFunction</span></td>






      <td align="undefined" valign="undefined"></td>






    </tr>

    <tr>

      <td align="undefined" valign="undefined"></td>

      <td style="background-color: rgb(204, 255, 255);" align="undefined" valign="undefined">End a Function declaration.</td>

      <td align="undefined" valign="undefined"></td>

    </tr>






  
  
  
  
  
  </tbody>
</table>

<br>

<span style="font-family: Arial;">






Back to the <a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/index.html">index</a>, <a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F1%20-%20Creating%20Player%20Object.html">Previous</a> Tutorial, <a href="http://web.archive.org/web/20070206041544/http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F3%20-%20Adding%20the%20Enemy.html">Next</a> Tutorial<br>
<br>








</span><span style="font-family: Lucida Console;"><span style="font-family: Tahoma;"></span></span>









<span style="font-family: Lucida Console;"><span style="font-family: Tahoma;">
</span></span><span style="font-family: Tahoma;"></span>


<!--
     FILE ARCHIVED ON 04:15:44 Feb 06, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:39:38 Oct 03, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 215.989
  exclusion.robots: 0.183
  exclusion.robots.policy: 0.176
  RedisCDXSource: 2.419
  esindex: 0.006
  LoadShardBlock: 193.949 (3)
  PetaboxLoader3.resolve: 347.782 (3)
  PetaboxLoader3.datanode: 252.992 (4)
  CDXLines.iter: 16.647 (3)
  load_resource: 419.049
--></body></html>